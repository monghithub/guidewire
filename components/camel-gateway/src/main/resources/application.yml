server:
  port: ${SERVER_PORT:8083}

spring:
  application:
    name: camel-gateway

camel:
  springboot:
    name: camel-gateway
    main-run-controller: true
  component:
    kafka:
      brokers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
      schema-registry-u-r-l: ${APICURIO_REGISTRY_URL:http://localhost:8080/apis/registry/v2}
  dataformat:
    jackson:
      auto-discover-object-mapper: true

kafka:
  bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
  consumer:
    group-id: camel-gateway-group
    auto-offset-reset: earliest
    enable-auto-commit: false
    key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
    value-deserializer: io.apicurio.registry.serde.avro.AvroKafkaDeserializer
  producer:
    acks: all
    retries: 3
    key-serializer: org.apache.kafka.common.serialization.StringSerializer
    value-serializer: io.apicurio.registry.serde.avro.AvroKafkaSerializer

apicurio:
  registry:
    url: ${APICURIO_REGISTRY_URL:http://localhost:8080/apis/registry/v2}

activemq:
  broker-url: ${ACTIVEMQ_BROKER_URL:tcp://localhost:61616}
  user: ${ACTIVEMQ_USER:admin}
  password: ${ACTIVEMQ_PASSWORD:admin}

guidewire:
  mock:
    base-url: ${GUIDEWIRE_MOCK_URL:http://mock-guidewire:8082}
  soap:
    policycenter:
      wsdl: classpath:wsdl/PolicyCenter.wsdl
      address: /ws/policycenter
    claimcenter:
      address: /ws/claimcenter
    billingcenter:
      address: /ws/billingcenter

# CXF SOAP configuration
cxf:
  path: /ws

management:
  endpoints:
    web:
      exposure:
        include: health,prometheus,info,metrics,camelroutes
  endpoint:
    health:
      show-details: always
      probes:
        enabled: true
  metrics:
    tags:
      application: ${spring.application.name}

logging:
  pattern:
    console: >-
      {"timestamp":"%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ}","level":"%level","logger":"%logger{36}","message":"%msg","thread":"%thread"}%n
  level:
    root: INFO
    com.guidewire.integration: DEBUG
    org.apache.camel: INFO
    org.apache.kafka: WARN
    org.apache.cxf: INFO
